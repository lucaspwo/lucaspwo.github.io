[
  {
    "title": "Placa USB para Raspberry Pi Zero",
    "slug": "placa_usb",
    "date": "2025-12-16",
    "date_display": "16 de dezembro de 2025",
    "date_display_short": "16/12/2025",
    "lang": "pt",
    "type": "post",
    "description": "Aqui detalho a placa adaptadora USB que desenvolvi para uso com o Raspberry Pi Zero.",
    "og_image": "projetos/placa_usb/placa.jpg",
    "featured_image": "projetos/placa_usb/placa.jpg",
    "alternate_url": "../placa_usb.html",
    "content": "<div class=\"col-md-12\">\n  <p class=\"text-justify\">Este post retrata um projeto de protótipo feito sob encomenda para uma empresa, logo, havia uma relação comercial entre as partes envolvidas. Algumas informações sensíveis foram omitidas por razões de confidencialidade.</p>\n</div>\n<div class=\"col-md-12\">\n  <hr>\n</div>\n<h2>Problemática do projeto</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Me apresentaram ao projeto desse cliente com a proposta de resolver um problema que parecia ser simples: retirar as fotos de uma máquina fotográfica e levá-las para a aplicação móvel feita por eles. Na situação original, o usuário enviava uma mensagem via WhatsApp quando ia iniciar uma sessão de captura de fotos, para registrar o horário, e após o seu expediente, uma pessoa conferia o horário da captura das fotos com a mensagem enviada, para bater a localização registrada pela aplicação com as fotos da máquina.</p>\n</div>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Após algumas discussões sobre requisitos e as reais necessidades do protótipo (resumindo para não me estender demais neste post), decidimos utilizar um Raspberry Pi Zero 2 W executando um programa para remover as fotos da câmera via USB, e enviá-las para o celular do usuário utilizando Wi-Fi. Além disso, o Raspberry teria de ser energizado utilizando um powerbank e um pino do GPIO ficaria responsável por ligar e desligar a conexão com a câmera.</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-12 text-center\"><a href=\"projetos/placa_usb/raspzero2w.png\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/raspzero2w.png\" class=\"img-responsive\" style=\"margin: 0 auto; width: 50%; height: auto;\" alt=\"Raspberry Pi Zero 2 W\"></a><p>Raspberry Pi Zero 2 W. Fonte: <a href=\"https://www.raspberrypi.com/products/raspberry-pi-zero-2-w/\">RaspberryPi.com</a></p></div></div>\n<h2>Desenvolvimento inicial</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Após resolver a parte de código responsável pela detecção, cópia e interação com a aplicação móvel via Wi-Fi junto com a equipe responsável, desenvolvi um cabo com circuitos para chavear o acesso da câmera utilizando peças que tinha em casa: relé, transistor, resistores, cabo USB tipo A macho e um conector USB tipo A fêmea. Logo no início do desenvolvimento, me avisaram que a empresa utilizava câmeras do tipo \"super zoom\" e, por sorte, consegui com meus pais uma Canon SX40 HS, a mesma que eu havia utilizado anteriormente no meu [drone para fotogrametria aérea](primeiro_drone.html).</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/sx40hs1.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/sx40hs1.jpg\" class=\"img-responsive\" alt=\"Canon SX40 HS\"></a><p>Canon SX40 HS. Fonte: <a href=\"https://www.photoxels.com/canon-sx40-hs-review-trustedreviews/\">Photoxels</a></p></div><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/sx40hs2.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/sx40hs2.jpg\" class=\"img-responsive\" alt=\"Canon SX40 HS mostrando alcance máximo da lente\"></a><p>Canon SX40 HS, mostrando o alcance máximo da lente. Fonte: <a href=\"https://www.ephotozine.com/article/canon-powershot-sx40-hs-digital-camera-review-18216\">ePHOTOzine</a></p></div></div>\n<h2>Problemas identificados</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Logo de cara, identifiquei o primeiro problema: o cabo de dados de qualquer câmera termina em um USB tipo A, e o Raspberry Pi Zero (tanto o modelo original quanto o 2 W) possui apenas uma porta micro USB tipo B para dados. Nos meus testes caseiros, utilizei um adaptador OTG (On The Go) para conectar a câmera, mas precisaria de uma solução mais confiável para o protótipo e produto final.</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/usbotgcable.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/usbotgcable.jpg\" class=\"img-responsive\" alt=\"Cabo USB OTG genérico\"></a><p>Exemplo de um cabo USB OTG genérico. Não muito confiável. Fonte: <a href=\"https://www.amazon.in/FEDUS-Connector-Adapter-Android-Smartphone/dp/B00O1WIZXC\">Amazon</a></p></div><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/usbotgshim.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/usbotgshim.jpg\" class=\"img-responsive\" alt=\"Adaptador USB OTG tipo shim\"></a><p>Exemplo de um adaptador USB OTG tipo shim, mais confiável. O que utilizei. Fonte: <a href=\"https://raspberrypi.dk/en/product/micro-usb-otg-to-usb-adapter-shim/\">RaspberryPi.dk</a></p></div></div>\n<h2>O Protótipo</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Em poucas horas, após perder tempo (infelizmente) com soluções de fabricação de PCB aqui no Brasil, recorri à [JLCPCB](https://jlcpcb.com/) para fabricar a placa. Dessa forma, projetei exatamente o que queria, e o benefício de usar essa plataforma seria ter toda a solução em um só lugar: a plataforma CAD (computer-aided design) online para projetar a placa, a seleção de componentes disponíveis para serem utilizados, a fabricação da placa de circuito impresso e a montagem dos componentes nela.</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-4 text-center\"><a href=\"projetos/placa_usb/placa1.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/placa1.jpg\" class=\"img-responsive\" alt=\"Vista superior da placa\"></a><p>Vista superior da placa</p></div><div class=\"col-md-4 text-center\"><a href=\"projetos/placa_usb/placa2.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/placa2.jpg\" class=\"img-responsive\" alt=\"Vista inferior da placa\"></a><p>Vista inferior da placa</p></div><div class=\"col-md-4 text-center\"><a href=\"projetos/placa_usb/placa3.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/placa3.jpg\" class=\"img-responsive\" alt=\"Placa USB conectada ao Raspberry Pi\"></a><p>Placa USB conectada ao Raspberry Pi</p></div></div>\n",
    "outputPath": "/Users/lucas/git/lucaspwo.github.io/br/placa_usb.html"
  },
  {
    "title": "USB Board for Raspberry Pi Zero",
    "slug": "placa_usb",
    "date": "2025-12-16",
    "date_display": "December 16, 2025",
    "date_display_short": "12/16/2025",
    "lang": "en",
    "type": "post",
    "description": "Here I detail the USB adapter board I developed for use with the Raspberry Pi Zero.",
    "og_image": "projetos/placa_usb/placa.jpg",
    "featured_image": "projetos/placa_usb/placa.jpg",
    "alternate_url": "br/placa_usb.html",
    "content": "<div class=\"col-md-12\">\n  <p class=\"text-justify\">This post depicts a prototype project made on commission for a company, so there was a commercial relationship between the parties involved. Some sensitive information has been omitted for confidentiality reasons.</p>\n</div>\n<div class=\"col-md-12\">\n  <hr>\n</div>\n<h2>Project Challenge</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">I was introduced to this client's project with the proposal to solve a problem that seemed simple: extract photos from a camera and transfer them to their mobile application. In the original situation, the user would send a WhatsApp message when starting a photo capture session to register the time, and after their shift, someone would check the photo capture time against the sent message to match the location registered by the application with the camera's photos.</p>\n</div>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">After some discussions about requirements and the actual needs of the prototype (summarizing to keep this post brief), we decided to use a Raspberry Pi Zero 2 W running a program to extract photos from the camera via USB and send them to the user's phone using Wi-Fi. Additionally, the Raspberry would be powered using a powerbank, and a GPIO pin would be responsible for turning the camera connection on and off.</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-12 text-center\"><a href=\"projetos/placa_usb/raspzero2w.png\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/raspzero2w.png\" class=\"img-responsive\" style=\"margin: 0 auto; width: 50%; height: auto;\" alt=\"Raspberry Pi Zero 2 W\"></a><p>Raspberry Pi Zero 2 W. Source: <a href=\"https://www.raspberrypi.com/products/raspberry-pi-zero-2-w/\">RaspberryPi.com</a></p></div></div>\n<h2>Initial Development</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">After resolving the code portion responsible for detection, copying, and interaction with the mobile application via Wi-Fi with the responsible team, I developed a cable with circuitry to switch camera access using parts I had at home: relay, transistor, resistors, male USB type A cable, and a female USB type A connector. Early in development, I was told that the company used \"super zoom\" type cameras and, luckily, I got a Canon SX40 HS from my parents, the same one I had previously used in my [aerial photogrammetry drone](primeiro_drone.html).</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/sx40hs1.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/sx40hs1.jpg\" class=\"img-responsive\" alt=\"Canon SX40 HS\"></a><p>Canon SX40 HS. Source: <a href=\"https://www.photoxels.com/canon-sx40-hs-review-trustedreviews/\">Photoxels</a></p></div><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/sx40hs2.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/sx40hs2.jpg\" class=\"img-responsive\" alt=\"Canon SX40 HS showing maximum lens reach\"></a><p>Canon SX40 HS, showing the maximum lens reach. Source: <a href=\"https://www.ephotozine.com/article/canon-powershot-sx40-hs-digital-camera-review-18216\">ePHOTOzine</a></p></div></div>\n<h2>Identified Problems</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Early on, I identified the first problem: any camera's data cable ends in a USB type A, and the Raspberry Pi Zero (both the original model and the 2 W) only has one micro USB type B port for data. In my home tests, I used an OTG (On The Go) adapter to connect the camera, but I would need a more reliable solution for the prototype and final product.</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/usbotgcable.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/usbotgcable.jpg\" class=\"img-responsive\" alt=\"Generic USB OTG cable\"></a><p>Example of a generic USB OTG cable. Not very reliable. Source: <a href=\"https://www.amazon.in/FEDUS-Connector-Adapter-Android-Smartphone/dp/B00O1WIZXC\">Amazon</a></p></div><div class=\"col-md-6 text-center\"><a href=\"projetos/placa_usb/usbotgshim.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/usbotgshim.jpg\" class=\"img-responsive\" alt=\"Shim-type USB OTG adapter\"></a><p>Example of a shim-type USB OTG adapter, more reliable. The one I used. Source: <a href=\"https://raspberrypi.dk/en/product/micro-usb-otg-to-usb-adapter-shim/\">RaspberryPi.dk</a></p></div></div>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">The second problem was powering the Raspberry itself. We had agreed that a powerbank would be used, but the cable would also need to be micro USB type B. So it would be ideal if we could switch to the new type C standard, which is becoming increasingly popular and easy to find.</p>\n</div>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">The third and not-quite-a-problem issue would be connecting the GPIO pin to the device to switch the camera's USB connection. If the prototype were shield/HAT type, the signal could be sent through the pins provided in the board design (following the HAT standard, with the \"new\" 40-pin layout). However, choosing this path, I would still need to solve the connection of the two micro B USBs. So a decision needed to be made here.</p>\n</div>\n<h2>The Prototype</h2>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Within a few hours, after wasting time (unfortunately) with PCB manufacturing solutions here in Brazil, I turned to [JLCPCB](https://jlcpcb.com/) to manufacture the board. This way, I designed exactly what I wanted, and the benefit of using this platform would be having the entire solution in one place: the online CAD (computer-aided design) platform to design the board, the selection of available components to be used, the printed circuit board fabrication, and the component assembly on it.</p>\n</div>\n<div class=\"col-md-12\">\n  <p class=\"text-justify\">Since we had wasted a lot of time waiting for a response from a Brazilian manufacturer, I received carte blanche to submit the entire project to be manufactured in China. Initially, I covered all costs, but would be reimbursed later.</p>\n</div>\n<div class=\"col-md-12\"><div class=\"col-md-4 text-center\"><a href=\"projetos/placa_usb/placa1.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/placa1.jpg\" class=\"img-responsive\" alt=\"Top view of the board\"></a><p>Top view of the board</p></div><div class=\"col-md-4 text-center\"><a href=\"projetos/placa_usb/placa2.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/placa2.jpg\" class=\"img-responsive\" alt=\"Bottom view of the board\"></a><p>Bottom view of the board</p></div><div class=\"col-md-4 text-center\"><a href=\"projetos/placa_usb/placa3.jpg\" class=\"image-popup\" style=\"margin-bottom: 1px;\"><img src=\"projetos/placa_usb/placa3.jpg\" class=\"img-responsive\" alt=\"USB board connected to Raspberry Pi\"></a><p>USB board connected to the Raspberry Pi</p></div></div>\n",
    "outputPath": "/Users/lucas/git/lucaspwo.github.io/placa_usb.html"
  }
]